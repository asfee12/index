<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MY DIARY Dashboard</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f9;
    display: flex;
    height: 100vh;
    overflow: hidden;
  }
  /* Sidebar Navigation */
  #sidebar {
    width: 220px;
    background-color: #2c3e50;
    display: flex;
    flex-direction: column;
    padding: 20px;
    box-sizing: border-box;
  }
  #sidebar h2 {
    color: #ecf0f1;
    text-align: center;
    margin-bottom: 30px;
  }
  #sidebar button {
    background-color: #2980b9;
    color: #fff;
    border: none;
    padding: 12px;
    margin-bottom: 10px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s;
  }
  #sidebar button:hover {
    background-color: #3498db;
  }

  /* Main Content Area */
  #main {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 20px;
    overflow-y: auto;
  }

  /* Header */
  #header {
    text-align: center;
    margin-bottom: 20px;
  }
  #header h1 {
    margin: 0;
    color: #34495e;
  }

  /* Content Sections */
  #content {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  /* Diary Editor */
  #diaryContainer {
    background-color: #fff;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  #diary {
    width: 100%;
    height: 200px;
    padding: 10px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 5px;
    resize: vertical;
  }

  /* Action Buttons */
  #actions {
    margin-top: 10px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }
  #actions button {
    flex: 1 1 150px;
    padding: 10px;
    border: none;
    border-radius: 5px;
    background-color: #2980b9;
    color: #fff;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s;
  }
  #actions button:hover {
    background-color: #3498db;
  }

  /* Daftar Halaman */
#listHalaman {
  background-color: #fff;
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}
#listHalaman h3 {
  margin-top: 0;
}
#listHalaman button {
  margin: 5px;
  padding: 8px 12px;
  border: none;
  border-radius: 4px;
  background-color: #27ae60;
  color: #fff;
  cursor: pointer;
  font-size: 13px;
  transition: background-color 0.3s;
}
#listHalaman button:hover {
  background-color: #2ecc71;
}

/* Hasil Assessment */
#hasilAssessment {
  background-color: #dcedc8;
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  display: none;
}
#hasilAssessment h2 {
  margin-top: 0;
  color: #33691e;
}
#assessmentResultsDiv p {
  margin: 8px 0;
}

/* Overlay Login */
#loginOverlay {
  position: fixed;
  top:0; left:0; right:0; bottom:0;
  background: rgba(0,0,0,0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  flex-direction: column;
  padding: 20px;
}
#loginOverlay h2 {
  color: #fff;
  margin-bottom: 20px;
}
#loginOverlay input {
  padding: 10px;
  font-size: 16px;
  border-radius: 5px;
  border: none;
  margin-bottom: 15px;
  width: 200px;
}
#loginOverlay button {
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  background-color: #2980b9;
  color: #fff;
  font-size: 14px;
  cursor: pointer;
}
#loginOverlay button:hover {
  background-color: #3498db;
}
</style>
</head>
<body>

<!-- Login Overlay -->
<div id="loginOverlay">
  <h2>Masukkan Password untuk Akses</h2>
  <input type="password" id="passwordInput" placeholder="Password" />
  <button onclick="cekPassword()">Masuk</button>
</div>

<!-- Dashboard utama -->
<div id="dashboard" style="display:none; flex:1; height:100%;">
  <!-- Sidebar Navigation -->
  <div id="sidebar">
    <h2>MENU</h2>
    <button onclick="showSection('diarySection')">Diary</button>
    <button onclick="showSection('listSection')">Daftar Halaman</button>
    <button onclick="showSection('assessmentSection')">Analisis</button>
    <button onclick="curhatBro()">Curhat Bro</button>
  </div>
  <!-- Main Content -->
  <div id="main" style="flex:1; display:flex; flex-direction:column;">
    <div id="header">
      <h1>MY DIARY Dashboard</h1>
    </div>
    <div id="content">
      <!-- Diary Input -->
      <div id="diarySection" class="section" style="display:block;">
        <div id="diaryContainer">
          <textarea id="diary" placeholder="Tulis cerita diary kamu di sini..."></textarea>
          <div id="actions">
            <button onclick="simpanHalaman()">Simpan Halaman</button>
            <button onclick="muatHalamanTerakhir()">Muat Halaman Terakhir</button>
            <button onclick="tambahHalaman()">Tambah Halaman Baru</button>
            <button onclick="assessDiary()">Analisis Cerita</button>
            <button onclick="curhatBro()">Curhat Bro</button>
          </div>
        </div>
      </div>
      <!-- List Halaman -->
      <div id="listSection" class="section" style="display:none;">
        <div id="listHalaman">
          <h3>Daftar Halaman Disimpan:</h3>
          <div id="daftarHalaman"></div>
        </div>
      </div>
      <!-- Hasil Assessment -->
      <div id="assessmentSection" class="section" style="display:none;">
        <div id="hasilAssessment">
          <h2>Hasil Penilaian</h2>
          <div id="assessmentResultsDiv"></div>
        </div>
      </div>
      <!-- Curhat -->
      <div id="curhatSection" class="section" style="display:none;">
        <h3>Curhat Bro</h3>
        <button onclick="curhatBro()">Simpan Curhat</button>
      </div>
    </div>
  </div>
</div>

<script>
  let daftarHalaman = [];

  const password = "rahasia123"; // Ganti sesuai keinginan

  function cekPassword() {
    const input = document.getElementById('passwordInput').value;
    if (input === password) {
      document.getElementById('loginOverlay').style.display = 'none';
      document.getElementById('dashboard').style.display = 'flex';
      startBackgroundRotation(); // optional: background otomatis
    } else {
      alert("Password salah!");
    }
  }

  // Fungsi navigasi section
  function showSection(sectionId) {
    document.querySelectorAll('.section').forEach(sec => {
      sec.style.display = 'none';
    });
    document.getElementById(sectionId).style.display = 'block';
  }

  function simpanHalaman() {
    const isi = document.getElementById('diary').value.trim();
    if (isi === "") {
      alert("Isi diary kosong, tidak bisa disimpan.");
      return;
    }
    const timestamp = new Date().toISOString();
    const halaman = { id: timestamp, isi: isi };
    daftarHalaman.push(halaman);
    updateDaftarHalaman();
    alert("Halaman berhasil disimpan.");
  }

  function tambahHalaman() {
    document.getElementById('diary').value = "";
    document.getElementById('assessmentResultsDiv').innerHTML = "";
    document.getElementById('hasilAssessment').style.display = 'none';
  }

  function muatHalamanTerakhir() {
    if (daftarHalaman.length === 0) {
      alert("Tidak ada halaman tersimpan.");
      return;
    }
    const halamanTerakhir = daftarHalaman[daftarHalaman.length - 1];
    document.getElementById('diary').value = halamanTerakhir.isi;
    assessDiary();
  }

  function updateDaftarHalaman() {
    const container = document.getElementById('daftarHalaman');
    container.innerHTML = "";
    daftarHalaman.forEach((halaman, index) => {
      const btn = document.createElement('button');
      btn.textContent = `Halaman ${index + 1}`;
      btn.onclick = () => {
        document.getElementById('diary').value = halaman.isi;
        assessDiary();
      };
      container.appendChild(btn);
    });
  }

  function assessDiary() {
    const isi = document.getElementById('diary').value.toLowerCase();

    const kalimat = isi.split(/[.!?]\s/).length;
    const kata = isi.split(/\s+/).length;

    let emosi = '';
    if (isi.includes('sedih') || isi.includes('kecewa') || isi.includes('gelisah') || isi.includes('tertekan')) {
      emosi = 'Emosi negatif, merasa sedih atau kecewa.';
    } else if (isi.includes('bahagia') || isi.includes('senang') || isi.includes('gembira')) {
      emosi = 'Perasaan positif dan bahagia.';
    } else if (isi.includes('stres') || isi.includes('tekanan') || isi.includes('pusing')) {
      emosi = 'Mengalami stres atau tekanan.';
    } else {
      emosi = 'Perasaan tidak terlalu jelas atau campuran.';
    }

    let tema = '';
    if (isi.includes('karier') || isi.includes('pekerjaan') || isi.includes('profesi')) {
      tema = 'Fokus pada bidang karier dan pekerjaan.';
    } else if (isi.includes('keluarga') || isi.includes('orangtua') || isi.includes('pasangan')) {
      tema = 'Fokus pada hubungan keluarga dan orang terdekat.';
    } else if (isi.includes('mimpi') || isi.includes('harapan') || isi.includes('tujuan')) {
      tema = 'Berbicara tentang mimpi dan harapan masa depan.';
    } else {
      tema = 'Cerita tentang pengalaman sehari-hari dan perasaan.';
    }

    let saran = '';
    if (kata < 50) {
      saran = 'Ceritakan lebih banyak pengalaman dan perasaan agar bisa dianalisis lebih baik.';
    } else if (kalimat < 3) {
      saran = 'Tulis lebih banyak detail tentang cerita dan perasaan.';
    } else {
      saran = 'Cerita cukup lengkap, terus kembangkan ekspresi dan refleksi diri.';
    }

    let bidangKarier = '';
    if (isi.includes('kreatif') || isi.includes('desain') || isi.includes('seni') || isi.includes('menulis')) {
      bidangKarier = 'Bidang kreatif dan seni.';
    } else if (isi.includes('teknologi') || isi.includes('programming') || isi.includes('coding')) {
      bidangKarier = 'Bidang teknologi dan pengembangan perangkat lunak.';
    } else if (isi.includes('bisnis') || isi.includes('usaha') || isi.includes('manajemen')) {
      bidangKarier = 'Bidang bisnis dan manajemen.';
    } else {
      bidangKarier = 'Cocok di berbagai bidang, tergantung minat dan kemampuan.';
    }

    let perbaikan = '';
    if (isi.includes('percaya diri') || isi.includes('motivasi')) {
      perbaikan = 'Perkuat rasa percaya diri dan motivasi diri.';
    } else {
      perbaikan = 'Perlu meningkatkan kepercayaan diri dan semangat.';
    }

    document.getElementById('assessmentResultsDiv').innerHTML = `
      <p><strong>Fase Psikologi:</strong> ${emosi}</p>
      <p><strong>Tema Utama Cerita:</strong> ${tema}</p>
      <p><strong>Saran:</strong> ${saran}</p>
      <p><strong>Bidang Karier Cocok:</strong> ${bidangKarier}</p>
      <p><strong>Perbaikan yang Disarankan:</strong> ${perbaikan}</p>
    `;
    document.getElementById('hasilAssessment').style.display = 'block';
  }

  function curhatBro() {
    const isi = document.getElementById('diary').value; // Tidak trim, tetap simpan apa adanya
    const timestamp = new Date().toISOString();
    const halamanCurhat = {
      id: timestamp,
      isi: isi,
      tipe: 'curhat'
    };
    daftarHalaman.push(halamanCurhat);
    updateDaftarHalaman();
    assessDiary();
    alert("Curhat kamu sudah tersimpan dan dianalisis!");
  }

  document.getElementById('diary').addEventListener('input', () => {
    assessDiary();
  });

  // Background gambar otomatis
  const backgroundImages = [
    'https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.1&auto=format&fit=crop&w=1600&q=80',
    'https://images.unsplash.com/photo-1470770841072-f978cf4d019e?ixlib=rb-4.0.1&auto=format&fit=crop&w=1600&q=80',
    'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-4.0.1&auto=format&fit=crop&w=1600&q=80',
    'https://images.unsplash.com/photo-1523413651479-597eb2da0ad6?ixlib=rb-4.0.1&auto=format&fit=crop&w=1600&q=80',
    'https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-4.0.1&auto=format&fit=crop&w=1600&q=80'
  ];

  let currentBgIndex = 0;

  function startBackgroundRotation() {
    setInterval(() => {
      document.body.style.backgroundImage = `url(${backgroundImages[currentBgIndex]})`;
      currentBgIndex = (currentBgIndex + 1) % backgroundImages.length;
    }, 5000);
  }
</script>
</body>
</html>
